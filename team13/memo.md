
| ステップ                               | 内容                     | コードで行っていること                                      | 目的・得られる知見                                     |
| ---------------------------------- | ---------------------- | ------------------------------------------------ | --------------------------------------------- |
| **Step3：特徴量の評価（回帰でデータを理解）**        | 線形回帰（LinearRegression） | 各特徴量（気温・湿度・風速・電力など）がガス使用量にどの程度影響しているかを数値的に確認     | データの基本構造を理解。どの要因が効きそうかを仮説立てする。                |
| **Step4：LightGBMで特徴量重要度を検証**       | 決定木ベースの学習（LightGBM）    | 気温・曜日・過去のガス使用量などを入力に、ガス使用量を予測。<br>特徴量重要度を算出して可視化 | 非線形関係や複雑な相互作用を自動で捉える。重要度グラフで影響度を把握。           |
| **Step4→Step3の比較（回帰とLightGBMの比較）** | モデル性能比較                | 線形回帰とLightGBMのRMSE・R²を比較                         | 単純モデル（線形）と高精度モデル（LightGBM）の違いを定量的に把握。         |
| **Step5：チューニング（Optuna）**           | ハイパーパラメータ最適化           | LightGBMの「木の深さ」「学習率」などを自動探索し、RMSE最小を目指す          | モデルを自動で最適化。過学習を防ぎ、安定した予測精度を実現。                |
| **Step6：未来1週間のガス予測**               | 予測モデルの実運用化             | 学習済みモデル（best_model）を使い、未来7日間の気象条件をもとにガス使用量を予測    | 実運用に近い形で「将来需要」を予測。需給計画や営業施策に応用可能。             |
| **Step7：SHAP解析（特徴量の貢献度を可視化）**      | Explainable AI（説明可能性）  | SHAPライブラリを用いて、LightGBMが「どの特徴量をどう使って予測しているか」を可視化  | モデルの意思決定を説明可能に。<br>例：気温低下→ガス需要増加など、要因を直感的に理解。 |
